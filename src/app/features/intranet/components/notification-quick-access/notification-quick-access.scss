// #region Styles
/* ===========================
   Modern Sass Modules
=========================== */

@use 'sass:map';
@use 'sass:color';

/* ===========================
   Host Layout
=========================== */

:host {
	display: block;
	width: 100%;
	height: 100%;
}

/* ===========================
   Variables Base
=========================== */

$radius-card: 20px;
$radius-icon: 18px;
$transition: 0.3s ease;

$shadow-soft: 0 4px 12px rgba(0, 0, 0, 0.05);

/* ===========================
   Priority Colors (ONLY real colors)
   âš ï¸ Sass cannot compute CSS vars
=========================== */

$priority-map: (
	urgent: #dc2626,
	high: #ffcc0c,
	medium: #253470,
	low: #77a02d,
);

@function priority($level) {
	@return map.get($priority-map, $level);
}

/* ===========================
   Mixins
=========================== */

@mixin gradient($base) {
	background: linear-gradient(135deg, $base, color.adjust($base, $lightness: -10%));
}

@mixin shadow-color($base, $opacity: 0.3) {
	box-shadow: 0 4px 12px rgba($base, $opacity);
}

@mixin glow-animation($name, $base) {
	@keyframes #{$name} {
		0%,
		100% {
			box-shadow:
				0 0 5px rgba($base, 0.5),
				0 0 10px rgba($base, 0.3);
		}

		50% {
			box-shadow:
				0 0 15px rgba($base, 0.8),
				0 0 25px rgba($base, 0.5);
		}
	}
}

/* ===========================
   Animations
=========================== */

@include glow-animation(glow-urgent, priority(urgent));
@include glow-animation(glow-high, priority(high));

/* ===========================
   Quick Access Card
=========================== */

.quick-access-card {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	gap: 1.25rem;

	padding: 2.25rem 1.75rem;
	width: 100%;
	height: 100%;
	box-sizing: border-box;

	border-radius: $radius-card;
	border: 2px solid var(--intranet-accent-color-green, #{priority(low)});
	box-shadow: $shadow-soft;

	background: var(--intranet-background-color);
	color: var(--intranet-default-text-color, #171717);

	cursor: pointer;
	text-decoration: none;
	transition: all $transition;

	/* ===========================
     Icon
  =========================== */

	.card-icon {
		width: 65px;
		height: 65px;
		border-radius: $radius-icon;

		display: flex;
		align-items: center;
		justify-content: center;

		position: relative;
		transition: all $transition;

		@include gradient(priority(low));
		@include shadow-color(priority(low));

		i {
			font-size: 1.85rem;
			color: white;
		}

		/* Priority Variants */
		@each $level, $base in $priority-map {
			&.badge-#{$level} {
				@include gradient($base);
				@include shadow-color($base);

				@if $level == high {
					i {
						color: var(--intranet-default-text-color, #171717);
					}
				}
			}
		}
	}

	/* ===========================
     Text Label
  =========================== */

	> span {
		font-weight: 600;
		font-size: 1rem;
		color: var(--intranet-alternative-text-color, #2c2c2c);
	}

	/* ===========================
     Hover
  =========================== */

	&:hover {
		transform: translateY(-10px);

		background: rgba(priority(low), 0.03);
		box-shadow: 0 16px 35px rgba(priority(low), 0.2);

		.card-icon {
			transform: scale(1.12) rotate(-5deg);
			box-shadow: 0 10px 25px rgba(priority(low), 0.4);
		}
	}

	/* ===========================
     Disabled State (WCAG Fix)
     ✅ Lighthouse Contrast Pass
  =========================== */

	&.no-notifications {
		opacity: 0.75;
		filter: grayscale(20%);

		/* Local Contrast Boost */
		--qa-bg: #f2f2f2;
		--qa-border: #a8a8a8;
		--qa-icon-bg: #cfcfcf;
		--qa-text: #3f3f3f;
		--qa-icon: #2b2b2b;

		background: var(--qa-bg);
		border-color: var(--qa-border);

		> span {
			color: var(--qa-text);
		}

		.card-icon {
			background: var(--qa-icon-bg);
			box-shadow: none;

			i {
				color: var(--qa-icon);
			}
		}
	}

	/* ===========================
     Notification Active
  =========================== */

	&.notification-quick-access {
		border-color: var(--intranet-accent-color-yellow, #{priority(high)});
		background: rgba(priority(high), 0.05);

		&:hover {
			box-shadow: 0 16px 35px rgba(priority(high), 0.25);
			background: rgba(priority(high), 0.08);
		}

		/* Urgent */
		&.badge-urgent {
			border-color: var(--intranet-accent-color-red, #{priority(urgent)});
			animation: glow-urgent 2s ease-in-out infinite;
		}

		/* High / Medium / Low */
		&.badge-high,
		&.badge-medium,
		&.badge-low {
			animation: glow-high 2s ease-in-out infinite;
		}
	}
}

/* ===========================
   Badge Counter
=========================== */

.quick-badge {
	position: absolute;
	top: -6px;
	right: -6px;

	min-width: 20px;
	height: 20px;
	padding: 0 5px;

	border-radius: 10px;
	border: 2px solid white;

	font-size: 0.7rem;
	font-weight: 700;

	display: flex;
	align-items: center;
	justify-content: center;

	color: white;

	@each $level, $base in $priority-map {
		&.badge-#{$level} {
			background: $base;
		}
	}
}

/* ===========================
   Responsive
=========================== */

@media (max-width: 768px) {
	.quick-access-card {
		padding: 1.75rem 1.25rem;

		.card-icon {
			width: 55px;
			height: 55px;

			i {
				font-size: 1.6rem;
			}
		}
	}
}
// #endregion
