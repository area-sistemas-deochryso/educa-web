<!-- #region Template -->
@if (estadisticas()) {
	<div class="estadisticas-container">
		<div class="header-row">
			<!-- * PDF actions -->
			<p-button
				icon="pi pi-file-pdf"
				[loading]="downloadingPdf()"
				severity="danger"
				[text]="true"
				[rounded]="true"
				(onClick)="toggleMenu($event)"
				pTooltip="Opciones de PDF"
				tooltipPosition="top"
				[pt]="{
					root: {
						'aria-label': 'Opciones de PDF',
					},
				}"
			/>
			<p-menu #pdfMenu [model]="menuItems" [popup]="true" appendTo="body" />
			<!-- * Date headline -->
			<h2>EstadÃƒÂ­sticas del dÃƒÂ­a - {{ estadisticas()!.fecha | date: 'EEEE d MMMM yyyy' }}</h2>
		</div>
		<!-- * Stat cards -->
		<div class="stats-grid">
			<div class="stat-card">
				<span class="stat-value">{{ estadisticas()!.totalEstudiantes }}</span>
				<span class="stat-label">Total estudiantes</span>
			</div>
			<div class="stat-card present">
				<span class="stat-value">{{ estadisticas()!.conEntrada }}</span>
				<span class="stat-label">Con entrada</span>
			</div>
			<div class="stat-card complete">
				<span class="stat-value">{{ estadisticas()!.asistenciasCompletas }}</span>
				<span class="stat-label">Asistencias completas</span>
			</div>
			<div class="stat-card absent">
				<span class="stat-value">{{ estadisticas()!.faltas }}</span>
				<span class="stat-label">Faltas</span>
			</div>
			<div class="stat-card percentage">
				<span class="stat-value"
					>{{ estadisticas()!.porcentajeAsistencia | number: '1.1-1' }}%</span
				>
				<span class="stat-label">Asistencia</span>
			</div>
		</div>
	</div>
}
<!-- #endregion -->
