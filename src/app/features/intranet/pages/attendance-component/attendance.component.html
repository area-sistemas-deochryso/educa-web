<div class="attendance-container">
	<!-- Header compartido por todos los roles -->
	<app-attendance-header
		[loading]="loading()"
		[showModeSelector]="userRole() === 'Profesor' || userRole() === 'Director'"
		[selectedMode]="selectedMode()"
		(modeChange)="onModeChange($event)"
		(reload)="onReload()"
	/>

	<!-- Componentes especializados por rol -->
	@switch (userRole()) {
		@case ('Apoderado') {
			<app-attendance-apoderado />
		}
		@case ('Profesor') {
			<app-attendance-profesor />
		}
		@case ('Director') {
			<app-attendance-director />
		}
		@case ('Estudiante') {
			<app-attendance-estudiante />
		}
		@default {
			<div class="error-state">
				<p>Rol no reconocido. Redirigiendo...</p>
			</div>
		}
	}
</div>
