<!-- #region Template -->
<div class="attendance-container">
	<!-- * Header compartido por todos los roles -->
	<app-attendance-header
		[loading]="loading()"
		[showModeSelector]="userRole() === 'Profesor' || userRole() === 'Director' || userRole() === 'Asistente Administrativo'"
		[selectedMode]="selectedMode()"
		(modeChange)="onModeChange($event)"
		(reload)="onReload()"
	/>

	<!-- * Componentes especializados por rol -->
	@switch (userRole()) {
		@case ('Apoderado') {
			<app-attendance-apoderado />
		}
		@case ('Profesor') {
			<app-attendance-profesor />
		}
		@case ('Director') {
			<app-attendance-director />
		}
		@case ('Asistente Administrativo') {
			<app-attendance-director />
		}
		@case ('Estudiante') {
			<app-attendance-estudiante />
		}
		@default {
			<!-- ! Fallback defensivo: si llega un rol no reconocido se muestra este estado. -->
			<div class="error-state">
				<p>Rol no reconocido. Redirigiendo...</p>
			</div>
		}
	}
</div>
<!-- #endregion -->
