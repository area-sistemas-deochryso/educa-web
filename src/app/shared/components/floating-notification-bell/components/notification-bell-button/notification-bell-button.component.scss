// #region Styles
$priority-urgent: #dc2626;

@keyframes bell-ring {
	0% {
		transform: rotate(0);
	}
	10% {
		transform: rotate(15deg);
	}
	20% {
		transform: rotate(-15deg);
	}
	30% {
		transform: rotate(10deg);
	}
	40% {
		transform: rotate(-10deg);
	}
	50% {
		transform: rotate(5deg);
	}
	60% {
		transform: rotate(-5deg);
	}
	70% {
		transform: rotate(2deg);
	}
	80% {
		transform: rotate(-2deg);
	}
	90%,
	100% {
		transform: rotate(0);
	}
}

@keyframes pulse {
	0%,
	100% {
		transform: scale(1);
		opacity: 1;
	}
	50% {
		transform: scale(1.15);
		opacity: 0.8;
	}
}

@keyframes pulse-ring {
	0% {
		transform: scale(1);
		opacity: 0.8;
	}
	100% {
		transform: scale(1.8);
		opacity: 0;
	}
}

.notification-bell-container {
	position: fixed;
	top: 100px;
	right: 24px;
	z-index: 998; // Debajo del mobile-nav (z-index 1000)

	&.has-unread {
		.notification-bell {
			&::before {
				content: '';
				position: absolute;
				inset: -4px;
				border-radius: 50%;
				background: rgba(220, 38, 38, 0.3);
				animation: pulse-ring 1.5s ease-out infinite;
			}

			&.badge-urgent::before {
				background: rgba(220, 38, 38, 0.3);
			}

			&.badge-high::before {
				background: rgba(255, 204, 12, 0.3);
			}

			&.badge-medium::before {
				background: rgba(37, 52, 112, 0.3);
			}

			&.badge-low::before {
				background: rgba(119, 160, 45, 0.3);
			}
		}
	}
}

.notification-bell {
	position: relative;
	width: 60px;
	height: 60px;
	border-radius: 50%;
	background: linear-gradient(135deg, var(--intranet-accent-color-yellow, #ffcc0c), #e6b800);
	border: none;
	cursor: pointer;
	display: flex;
	align-items: center;
	justify-content: center;
	box-shadow:
		0 6px 20px rgba(255, 204, 12, 0.4),
		0 2px 8px rgba(0, 0, 0, 0.1);
	transition: all 0.3s ease;

	&.badge-urgent {
		background: linear-gradient(135deg, $priority-urgent, #b91c1c);
		box-shadow:
			0 6px 20px rgba(220, 38, 38, 0.4),
			0 2px 8px rgba(0, 0, 0, 0.1);
	}

	&.badge-high,
	&.badge-medium,
	&.badge-low {
		background: linear-gradient(135deg, var(--intranet-accent-color-yellow, #ffcc0c), #e6b800);
	}

	i {
		font-size: 1.6rem;
		color: var(--intranet-default-text-color, #171717);
		transition: transform 0.3s;
	}

	&.badge-urgent i {
		color: white;
	}

	&:hover {
		transform: scale(1.1);
		box-shadow: 0 8px 25px rgba(255, 204, 12, 0.5);

		i {
			animation: bell-ring 0.8s ease;
		}
	}

	&.badge-urgent:hover {
		box-shadow: 0 8px 25px rgba(220, 38, 38, 0.5);
	}

	&.ringing {
		i {
			animation: bell-ring 1s ease infinite;
		}
	}

	&:not(.ringing) {
		filter: grayscale(70%);
		opacity: 0.7;
		box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);

		&:hover {
			filter: grayscale(30%);
			opacity: 0.9;
			box-shadow: 0 6px 18px rgba(0, 0, 0, 0.15);
		}
	}
}

.bell-badge {
	position: absolute;
	top: -4px;
	right: -4px;
	min-width: 22px;
	height: 22px;
	padding: 0 6px;
	border-radius: 11px;
	color: white;
	font-size: 0.75rem;
	font-weight: 700;
	display: flex;
	align-items: center;
	justify-content: center;
	border: 2px solid white;

	&.badge-urgent {
		background: linear-gradient(135deg, $priority-urgent, #b91c1c);
		box-shadow: 0 2px 8px rgba(220, 38, 38, 0.5);
	}

	&.badge-high {
		background: linear-gradient(135deg, #ffcc0c, #d4a700);
		color: var(--intranet-default-text-color, #171717);
		box-shadow: 0 2px 8px rgba(255, 204, 12, 0.5);
	}

	&.badge-medium {
		background: linear-gradient(135deg, var(--intranet-accent-color-blue, #253470), #1a2550);
		box-shadow: 0 2px 8px rgba(37, 52, 112, 0.5);
	}

	&.badge-low {
		background: linear-gradient(135deg, var(--intranet-accent-color-green, #77a02d), #5c7d22);
		box-shadow: 0 2px 8px rgba(119, 160, 45, 0.5);
	}

	&.pulse {
		animation: pulse 1.5s ease-in-out infinite;
	}
}

@media (max-width: 768px) {
	.notification-bell-container {
		top: 16px;
		bottom: auto;
		right: 16px;
	}
}
// #endregion
